{"version":3,"sources":["images/wknd-logo-dk.svg","images/icon-close.svg","images/icon-loading.svg","api/useGraphQL.js","components/Error.js","components/Loading.js","components/AEMText.js","components/AdventureDetail.js","components/Adventures.js","components/AEMPage.js","components/Home.js","App.js","index.js","server/CustomModelClient.js"],"names":["module","exports","process","REACT_APP_HOST_URI","REACT_APP_GRAPHQL_ENDPOINT","useGraphQL","query","skipCall","useState","data","setData","errorMessage","setErrors","useEffect","isOnAEM","window","location","origin","fetch","method","headers","btoa","body","JSON","stringify","then","response","json","errors","map","error","message","join","mapErrors","catch","Error","className","this","props","Component","Loading","src","loadingIcon","alt","TextEditConfig","emptyLabel","isEmpty","TextV2IsEmptyFn","resourceType","AEMText","withMappable","TextV2","MapTo","adventurePathsQuery","Contributer","pictureReference","_path","fullName","occupation","withRouter","adventurePath","setAdventurePath","adventures","pathArray","adventureList","items","item","pathname","substring","lastIndexOf","length","replace","forEach","path","indexOf","adventureData","adventureByPath","to","backIcon","adventureTitle","pagePath","itemPath","adventureActivity","adventureType","adventureTripLength","adventureGroupSize","adventureDifficulty","adventurePrice","adventurePrimaryImage","dangerouslySetInnerHTML","__html","adventureDescription","html","adventureItinerary","adventureContributor","AdventureItem","adventureName","split","allAdventuresQuery","filterQuery","activity","Adventures","setQuery","onClick","adventure","index","key","Page","Home","AEMPage","REACT_APP_AEM_PROJECT_ROOT","App","logo","PathUtils","toAEMPath","modelClient","modelPath","err","Promise","reject","url","_apiHost","status","statusText","ModelClient","ModelManager","initializeAsync","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf19477e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/wknd-logo-dk.36593320.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-close.f227c489.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-loading.200bc7ed.svg\";","/*\nCopyright 2020 Adobe\nAll Rights Reserved.\n\nNOTICE: Adobe permits you to use, modify, and distribute this file in\naccordance with the terms of the Adobe license agreement accompanying\nit.\n*/\nimport {useState, useEffect} from 'react';\n\nconst { REACT_APP_HOST_URI, REACT_APP_GRAPHQL_ENDPOINT } = process.env;\n\n/*\n    Custom React Hook to perform a GraphQL query\n    query paramter is a GraphQL query\n    environment variable REACT_APP_GRAPHQL_ENDPOINT is used to point to endpoint in AEM\n*/\nfunction useGraphQL(query, skipCall) {\n\n    let [data, setData] = useState(null);\n    let [errorMessage, setErrors] = useState(null);\n\n    useEffect(() => {\n        if(!skipCall) {\n            const isOnAEM = window.location.origin === REACT_APP_HOST_URI;\n            window.fetch(\n            (isOnAEM ? '' : REACT_APP_HOST_URI) + REACT_APP_GRAPHQL_ENDPOINT,\n            {\n                method: 'POST',\n                headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Basic '+ btoa('sharanya:sharanya')\n                },\n                body: JSON.stringify({query}),\n            }\n            ).then(response => response.json())\n            .then(({data, errors}) => {\n                //If there are errors in the response set the error message\n                if(errors) {\n                    setErrors(mapErrors(errors));\n                }\n                //Otherwise if data in the response set the data as the results\n                if(data) {\n                    setData(data);\n                }\n            })\n            .catch((error) => {\n                setErrors(error);\n            });\n        }\n    }, [query, skipCall]);\n\n    return {data, errorMessage}\n}\n\n/**\n * concatenate error messages into a single string.\n * @param {*} errors\n */\nfunction mapErrors(errors) {\n    return errors.map((error) => error.message).join(\",\");\n}\nexport default useGraphQL\n","/*\nCopyright 2020 Adobe\nAll Rights Reserved.\n\nNOTICE: Adobe permits you to use, modify, and distribute this file in\naccordance with the terms of the Adobe license agreement accompanying\nit.\n*/\nimport React, {Component} from 'react';\n\nclass Error extends Component {\n\n    render() {\n        return (<div className=\"error\">\n              <span className=\"error-message\">{`Error: ${this.props.errorMessage}`}</span>\n          </div>);\n    }\n}\n\nexport default Error;","/*\nCopyright 2020 Adobe\nAll Rights Reserved.\n\nNOTICE: Adobe permits you to use, modify, and distribute this file in\naccordance with the terms of the Adobe license agreement accompanying\nit.\n*/\nimport React, {Component} from 'react';\nimport loadingIcon from '../images/icon-loading.svg';\n\nclass Loading extends Component {\n\n    render() {\n        return (<div className=\"loading\">\n              <img src={loadingIcon} alt=\"Loading...\" />\n          </div>);\n    }\n}\n\nexport default Loading;","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { TextV2, TextV2IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\n\n/**\n * Default Edit configuration for the Text component that interact with the Core Text component and sub-types\n *\n * @type EditConfig\n */\nconst TextEditConfig = {\n  emptyLabel: 'Text',\n  isEmpty: TextV2IsEmptyFn,\n  resourceType: 'wknd-spa/components/text'\n};\n\nexport const AEMText = withMappable(TextV2, TextEditConfig);\n\nMapTo('wknd-spa/components/text')(TextV2, TextEditConfig);\n","/*\nCopyright 2020 Adobe\nAll Rights Reserved.\n\nNOTICE: Adobe permits you to use, modify, and distribute this file in\naccordance with the terms of the Adobe license agreement accompanying\nit.\n*/\nimport React, { useState, useEffect } from 'react';\nimport { withRouter, Link} from \"react-router-dom\";\nimport useGraphQL from '../api/useGraphQL';\nimport backIcon from '../images/icon-close.svg';\nimport Error from './Error';\nimport Loading from './Loading';\nimport './AdventureDetail.scss';\nimport { AEMText } from './AEMText';\n\nfunction AdventureDetail(props) {\n    const [adventurePath, setAdventurePath] = useState(props.location?.data);\n\n    // if path is unavailable, fetch all adventures list and retrieve detail path\n    const { data: adventures } = useGraphQL(adventurePathsQuery, adventurePath);\n\n    useEffect(() => {\n        if(adventures) {\n            const pathArray = adventures.adventureList?.items?.map((item) => item._path);\n            let pathname = window.location.pathname;\n            pathname = pathname.substring(pathname.lastIndexOf(\"/\") + 1, pathname.length);\n            pathname = pathname.replace(/(.html)/, '');\n            pathArray.forEach(path => path.indexOf(pathname) >= 0 && setAdventurePath(path));\n        }\n    }, [adventures]);\n\n    //parse the content fragment from the url\n    //Use a custom React Hook to execute the GraphQL query\n    // execute the query only when the path is available\n    const { data, errorMessage } = useGraphQL(adventureDetailQuery(adventurePath), !adventurePath);\n\n    //If there is an error with the GraphQL query\n    if(errorMessage) return <Error errorMessage={errorMessage} />;\n\n    //If data is null then return a loading icon...\n    if(!data) return <Loading />;\n\n    //Set adventureData variable based on graphQL response\n    let adventureData = data.adventureByPath.item;\n    let pathname = adventurePath.substring(adventurePath.lastIndexOf(\"/\") + 1, adventurePath.length);\n\n    return (\n        <div className=\"adventure-detail\">\n          <Link className=\"adventure-detail-close-button\" to={\"/home\"}>\n            <img className=\"Backbutton-icon\" src={backIcon} alt=\"Return\" />\n          </Link>\n          <h1 className=\"adventure-detail-title\">{adventureData.adventureTitle}</h1>\n          <AEMText\n            pagePath={`/content/wknd-spa/home/adventures/${pathname}`}\n            itemPath='text21' />\n          <div className=\"adventure-detail-info\">\n            <div className=\"adventure-detail-info-label\">Activity</div>\n            <div className=\"adventure-detail-info-description\">{adventureData.adventureActivity}</div>\n            <div className=\"adventure-detail-info-label\">Type</div>\n            <div className=\"adventure-detail-info-description\">{adventureData.adventureType}</div>\n            <div className=\"adventure-detail-info-label\">Trip Length</div>\n            <div className=\"adventure-detail-info-description\">{adventureData.adventureTripLength}</div>\n            <div className=\"adventure-detail-info-label\">Group Size</div>\n            <div className=\"adventure-detail-info-description\">{adventureData.adventureGroupSize}</div>\n            <div className=\"adventure-detail-info-label\">Difficulty</div>\n            <div className=\"adventure-detail-info-description\">{adventureData.adventureDifficulty}</div>\n            <div className=\"adventure-detail-info-label\">Price</div>\n            <div className=\"adventure-detail-info-description\">{adventureData.adventurePrice}</div>\n          </div>\n          <div className=\"adventure-detail-content\">\n            <img className=\"adventure-detail-primaryimage\"\n                 src={adventureData.adventurePrimaryImage._path} alt={adventureData.adventureTitle}/>\n            <div dangerouslySetInnerHTML={{__html: adventureData.adventureDescription.html}}></div>\n            <h2>Itinerary</h2>\n            <hr />\n            <div className=\"adventure-detail-itinerary\"\n                 dangerouslySetInnerHTML={{__html: adventureData.adventureItinerary.html}}></div>\n            <Contributer {...adventureData.adventureContributor} />\n          </div>\n\n        </div>\n    );\n}\n\nfunction adventureDetailQuery(_path) {\n  return _path && `{\n    adventureByPath (_path: \"${_path}\") {\n      item {\n        _path\n          adventureTitle\n          adventureActivity\n          adventureType\n          adventurePrice\n          adventureTripLength\n          adventureGroupSize\n          adventureDifficulty\n          adventurePrice\n          adventurePrimaryImage {\n            ... on ImageRef {\n              _path\n              mimeType\n              width\n              height\n            }\n          }\n          adventureDescription {\n            html\n          }\n          adventureItinerary {\n            html\n          }\n      }\n    }\n  }\n  `;\n}\n\n/**\n * Query for all Adventures\n */\nconst adventurePathsQuery = `\n  {\n    adventureList {\n      items {\n        _path\n      }\n    }\n  }\n`;\n\nfunction Contributer(props) {\n\n  if(!props) {\n    return null;\n  }\n  let pictureReference = null;\n  if(props.pictureReference) {\n     pictureReference =  <img className=\"contributor-image\" src={props.pictureReference._path} alt={props.fullName} />\n  }\n\n  return (\n    <div className=\"contributor\">\n      <hr className=\"contributor-separator\" />\n      {pictureReference}\n      <h3 className=\"contributor-name\">{props.fullName}</h3>\n      <h4 className=\"contributor-occupation\">{props.occupation}</h4>\n    </div>);\n}\n\n\nexport default withRouter(AdventureDetail);\n","/*\nCopyright 2020 Adobe\nAll Rights Reserved.\n\nNOTICE: Adobe permits you to use, modify, and distribute this file in\naccordance with the terms of the Adobe license agreement accompanying\nit.\n*/\nimport React, { useState } from 'react';\nimport {Link} from 'react-router-dom';\nimport useGraphQL from '../api/useGraphQL';\nimport Error from './Error';\nimport Loading from './Loading';\nimport './Adventures.scss';\n\n\nfunction Adventures() {\n\n    //Use React Hooks to set the initial GraphQL query to a variable named `query`\n    const [query, setQuery] = useState(allAdventuresQuery);\n    //Use a custom React Hook to execute the GraphQL query\n    const { data, errorMessage } = useGraphQL(query);\n\n    //If there is an error with the GraphQL query\n    if(errorMessage) return <Error errorMessage={errorMessage} />;\n\n    //If data is null then return a loading state...\n    if(!data) return <Loading />;\n\n    return (\n        <div className=\"adventures\">\n          <button onClick={() => setQuery(allAdventuresQuery)}>All</button>\n          <button onClick={() => setQuery(filterQuery('Camping'))}>Camping</button>\n          <button onClick={() => setQuery(filterQuery('Surfing'))}>Surfing</button>\n          <ul className=\"adventure-items\">\n            {\n                //Iterate over the returned data items from the query\n                data.adventureList.items.map((adventure, index) => {\n                    return (\n                        <AdventureItem key={index} {...adventure} />\n                    );\n                })\n            }\n            </ul>\n        </div>\n    );\n}\n\n// Render individual Adventure item\nfunction AdventureItem(props) {\n  const { _path: adventurePath } = props;\n\n  let adventureName = adventurePath.split(\"/\");\n  adventureName = adventureName[adventureName.length - 1];\n\n  return (\n        <li className=\"adventure-item\">\n          <Link to={{\n              pathname:`/adventures/${adventureName}`,\n              data: adventurePath\n          }}>\n            <img className=\"adventure-item-image\" src={props.adventurePrimaryImage._path}\n                 alt={props.adventureTitle} />\n          </Link>\n          <div className=\"adventure-item-length-price\">\n            <div className=\"adventure-item-length\">{props.adventureTripLength}</div>\n            <div className=\"adventure-item-price\">{props.adventurePrice}</div>\n          </div>\n          <div className=\"adventure-item-title\">{props.adventureTitle}</div>\n      </li>\n      );\n}\n\n/**\n * Query for all Adventures\n */\nconst allAdventuresQuery = `\n  {\n    adventureList {\n      items {\n        _path\n        adventureTitle\n        adventurePrice\n        adventureTripLength\n        adventurePrimaryImage {\n          ... on ImageRef {\n            _path\n            mimeType\n            width\n            height\n          }\n        }\n      }\n    }\n  }\n`;\n\n/**\n * Returns a query for Adventures filtered by activity\n */\nfunction filterQuery(activity) {\n  return `\n    {\n      adventureList (filter: {\n        adventureActivity: {\n          _expressions: [\n            {\n              value: \"${activity}\"\n            }\n          ]\n        }\n      }){\n        items {\n          _path\n        adventureTitle\n        adventurePrice\n        adventureTripLength\n        adventurePrimaryImage {\n          ... on ImageRef {\n            _path\n            mimeType\n            width\n            height\n          }\n        }\n      }\n    }\n  }\n  `;\n}\n\n\nexport default Adventures;\n","/*******************************************************************************\n *\n *    Copyright 2020 Adobe. All rights reserved.\n *    This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License. You may obtain a copy\n *    of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software distributed under\n *    the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n *    OF ANY KIND, either express or implied. See the License for the specific language\n *    governing permissions and limitations under the License.\n *\n ******************************************************************************/\nimport {\n    Page,\n    withMappable\n} from '@adobe/aem-react-editable-components';\n\nexport default withMappable(Page);\n","import React from 'react';\n\nimport Adventures from './Adventures';\nimport AEMPage from './AEMPage';\n\n/***\n * Displays a grid of current adventures\n */\nfunction Home() {\n  return (\n    <div className=\"Home\">\n      <h2>Current Adventures</h2>\n      <AEMPage\n        pagePath='/content/wknd-spa/home' />\n      <Adventures />\n    </div>\n  );\n}\n\nexport default Home;\n","/*\nCopyright 2020 Adobe\nAll Rights Reserved.\n\nNOTICE: Adobe permits you to use, modify, and distribute this file in\naccordance with the terms of the Adobe license agreement accompanying\nit.\n*/\nimport React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport logo from './images/wknd-logo-dk.svg';\n\nimport { PathUtils } from '@adobe/aem-spa-page-model-manager';\n\nimport AdventureDetail from './components/AdventureDetail';\nimport Home from './components/Home';\n\nimport './App.scss';\n\nconst { REACT_APP_HOST_URI, REACT_APP_AEM_PROJECT_ROOT } = process.env;\n\nfunction App() {\n  // Transform routing path to accomodate for AEM specific paths\n  // path updated only when opened within AEM editor\n  const transformRoute = (path) => {\n    const aemPathRegex = PathUtils.toAEMPath(path, REACT_APP_HOST_URI, REACT_APP_AEM_PROJECT_ROOT);\n    return aemPathRegex;\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <header>\n          <img src={logo} className=\"logo\" alt=\"WKND Logo\"/>\n          <hr />\n        </header>\n      <Switch>\n        <Route path={transformRoute('/adventures/:path')}>\n          <AdventureDetail />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","/*\nCopyright 2020 Adobe\nAll Rights Reserved.\n\nNOTICE: Adobe permits you to use, modify, and distribute this file in\naccordance with the terms of the Adobe license agreement accompanying\nit.\n*/\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { ModelManager } from \"@adobe/aem-spa-page-model-manager\";\n\nimport { CustomModelClient } from './server/CustomModelClient';\n\nconst modelClient = new CustomModelClient(process.env.REACT_APP_HOST_URI);\nModelManager.initializeAsync({\n    modelClient\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n ~ Copyright 2018 Adobe Systems Incorporated\n ~\n ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n ~ you may not use this file except in compliance with the License.\n ~ You may obtain a copy of the License at\n ~\n ~     http://www.apache.org/licenses/LICENSE-2.0\n ~\n ~ Unless required by applicable law or agreed to in writing, software\n ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n ~ See the License for the specific language governing permissions and\n ~ limitations under the License.\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/\nimport { ModelClient } from '@adobe/aem-spa-page-model-manager';\n\n/**\n * Custom ModelClient meant to demonstrate how to customize the request sent to the remote server\n */\nexport class CustomModelClient extends ModelClient {\n\n    /**\n     * Fetches a model using the given a resource path\n     *\n     * @param {string} modelPath - Path to the model\n     * @return {*}\n     */\n    fetch(modelPath) {\n\n        if (!modelPath) {\n            let err = 'Fetching model rejected for path: ' + modelPath;\n            return Promise.reject(new Error(err));\n        }\n\n        // Either the API host has been provided or we make an absolute request relative to the current host\n        let url = `${this._apiHost}${modelPath}`;\n\n        return fetch(url).then(function(response) {\n            if (response.status >= 200 && response.status < 300) {\n                return response.json();\n            } else {\n                let error = new Error('while fetching the model for url: ' + url, response.statusText || response.status);\n                error.response = response;\n\n                return Promise.reject(error);\n            }\n        });\n    }\n}\n"],"sourceRoot":""}